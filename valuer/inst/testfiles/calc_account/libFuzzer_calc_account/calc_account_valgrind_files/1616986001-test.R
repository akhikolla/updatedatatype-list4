testlist <- list(barrier = 5.4116700856138e-312, ben = NaN, fee = NaN, penalty = c(NaN,  3.95829906842452e-243, 8.30987219517939e-246, 8.30987219517939e-246,  6.65906446658501e+149, 8.30987219484299e-246, -1.45681598777599e+144,  3.02668741797676e+267, -1.25224495960781e+41, 0), spot = c(NaN,  NaN, 2.64260559994608e-260, 3.75797447915408e-295, -3.56988358137302e-176,  9.81892626338769e-312, 4.34018709803347e-241, NaN, NaN, NaN,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, -4.74636429408399e-224,  4.7133788503408e-317, 0, 0, 0, 8.36461763634473e-275, -4.74636428524383e-224,  -4.74636429408412e-224, -3.08427743726378e+306, NaN, 0))
result <- do.call(valuer::calc_account,testlist)
str(result)